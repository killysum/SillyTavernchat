<!DOCTYPE html>
<html>

<head>
    <base href="/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, viewport-fit=cover, initial-scale=1, maximum-scale=1.0, user-scalable=no, interactive-widget=resizes-content">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="darkreader-lock">
    <meta name="robots" content="noindex, nofollow" />
    <style>
        /* Put critical CSS here. The rest should go in stylesheets. */
        body {
            background-color: rgb(36, 36, 37);
        }
    </style>
    <link rel="preload" as="style" href="style.css">
    <link rel="apple-touch-icon" sizes="57x57" href="img/apple-icon-57x57.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="img/apple-icon-72x72.png" />
    <link rel="apple-touch-icon" sizes="114x114" href="img/apple-icon-114x114.png" />
    <link rel="apple-touch-icon" sizes="144x144" href="img/apple-icon-144x144.png" />
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="stylesheet" type="text/css" href="css/st-tailwind.css">
    <link rel="stylesheet" type="text/css" href="css/login.css">
    <link rel="manifest" crossorigin="use-credentials" href="manifest.json">
    <link href="webfonts/NotoSans/stylesheet.css" rel="stylesheet">
    <link href="webfonts/NotoSansMono/stylesheet.css" rel="stylesheet">
    <!-- fontawesome webfonts-->
    <link href="css/fontawesome.min.css" rel="stylesheet">
    <link href="css/solid.min.css" rel="stylesheet">
    <link href="css/user.css" rel="stylesheet">
    <title>SillyTavern</title>
</head>

<body class="login">
    <div id="shadow_popup" style="opacity: 0;">
        <div id="dialogue_popup">
            <div id="dialogue_popup_holder">
                <div id="dialogue_popup_text">
                    <div id="userSelectBlock" class="flex-container flexFlowColumn alignItemsCenter">
                        <h2 id="logoBlock" class="flex-container">
                            <img src="img/logo.png" alt="SillyTavern" class="logo">
                            <span>欢迎来到 SillyTavern</span>
                        </h2>
                        <h3 id="normalLoginPrompt">
                            选择一个账户
                        </h3>
                        <h3 id="discreetLoginPrompt">
                            输入登录信息
                        </h3>
                        <div id="userListBlock" class="wide100p">
                            <div id="userList" class="flex-container justifySpaceEvenly"></div>
                            <div id="handleEntryBlock" style="display:none;" class="flex-container flexFlowColumn alignItemsCenter">
                                <input id="userHandle" class="text_pole" type="text" placeholder="用户名" autocomplete="username">
                            </div>
                            <div id="passwordEntryBlock" style="display:none;"
                                class="flex-container flexFlowColumn alignItemsCenter">
                                <input id="userPassword" class="text_pole" type="password" placeholder="密码" autocomplete="current-password">
                                <a id="recoverPassword" href="#" onclick="return false;">忘记密码？</a>
                                <div class="flex-container flexGap10">
                                    <div id="loginButton" class="menu_button">登录</div>
                                    <div id="registerButton" class="menu_button">注册</div>
                                </div>
                            </div>
                            <div id="passwordRecoveryBlock" style="display:none;" class="flex-container flexFlowColumn alignItemsCenter">
                                <div id="recoverMessage">
                                    恢复码已输出到服务器控制台。
                                </div>
                                <input id="recoveryCode" class="text_pole" type="text" placeholder="恢复码">
                                <input id="newPassword" class="text_pole" type="password" placeholder="新密码" autocomplete="new-password">
                                <div class="flex-container flexGap10">
                                    <div id="sendRecovery" class="menu_button">发送</div>
                                    <div id="cancelRecovery" class="menu_button">取消</div>
                                </div>
                            </div>
                        </div>
                        <div id="renewalBlock" class="wide100p" style="display:none;">
                            <div class="flex-container flexFlowColumn alignItemsCenter">
                                <h3 style="color: #ff6b6b; margin-bottom: 10px; font-size: 1.2em;">
                                    ⚠️ 账户已过期
                                </h3>
                                <div id="renewalMessage" style="text-align: center; margin-bottom: 20px; line-height: 1.6; font-size: 1.05em;">
                                    您的账户已过期，请输入续费码进行续费
                                </div>
                                <div id="renewalPurchaseLink" style="display:none; margin-bottom: 20px; padding: 15px; background: rgba(155,135,245,0.15); border: 1px solid rgba(155,135,245,0.3); border-radius: 8px; width: 100%; box-sizing: border-box;">
                                    <div style="margin-bottom: 8px; font-size: 0.95em; opacity: 0.9; color: #ddd;">💳 如需购买续费码，请访问：</div>
                                    <a id="renewalPurchaseLinkUrl" href="#" target="_blank" style="color: #9b87f5; word-break: break-all; text-decoration: underline; font-weight: 500;"></a>
                                </div>
                                <div style="width: 100%; margin-bottom: 20px;">
                                    <label for="renewalCode" style="display: block; margin-bottom: 8px; font-size: 0.95em; color: #ccc; text-align: left;">
                                        🔑 请在下方输入您的续费码：
                                    </label>
                                    <input id="renewalCode" class="text_pole" type="text" placeholder="在此输入续费码"
                                           style="font-size: 1.1em; padding: 12px; border: 2px solid #9b87f5; background: rgba(255,255,255,0.05);"
                                           autocomplete="off" autofocus>
                                </div>
                                <div class="flex-container flexGap10">
                                    <div id="submitRenewal" class="menu_button flex-container alignItemsCenter justifyCenter flexGap5" style="background: #9b87f5; padding: 10px 25px; font-size: 1.05em; font-weight: 500;">
                                        <i class="fa-solid fa-check"></i>
                                        <span>确认续费</span>
                                    </div>
                                    <div id="cancelRenewal" class="menu_button flex-container alignItemsCenter justifyCenter flexGap5" style="padding: 10px 20px;">
                                        <i class="fa-solid fa-times"></i>
                                        <span>取消</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="neutral_warning" id="errorMessage">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="lib/jquery-3.5.1.min.js"></script>
    <script src="scripts/login.js" type="module"></script>
</body>

</html>
